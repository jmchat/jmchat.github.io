
<!DOCTYPE html>
<html lang="nl">
<head>
    <title>Route maker</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
        #map {
            width: 450px;
            height: 450px;
            float: left;
            margin-right: 20px;
        }

        #route {
            width: 450px;
            height: 400px;
        }

        .button-copy{ 
            font-size: 20px;
            background: green;
            color: white;
        }

        .button-refresh{ 
            font-size: 20px;
        }
    </style>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
</head>
<body>
<h1>Hier kun je de routes samenstellen</h1>
<div><p>Klik op de plattgrond op elk knooppunt om tot de juiste route te komen en kopieer vervolgens de GPS locaties en plak deze in de catalogus bij het object.</p></div>
<!-- Hier wordt de map in geplaatst -->
<div id="map"></div>

<!-- Hier komt hopelijk de route in :-) -->

<p id="gelukt"></p>

<textarea id="route"></textarea>

<div> <button class="button-copy" onclick="myFunction()">Kopiëer route naar klipbord</button>
<button class="button-refresh" onclick="reload()">Nieuwe route maken</button>  </div>

<!-- hm.leaflet.custom -->
<script>
            var map = L.map("map").setView([51.737561,3.803846], 16),

            currentLocationMarker,
            myCurrentRoutePath;

            var routes = document.querySelector("#route");
            var happy = document.querySelector("#gelukt");

            L.tileLayer('https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png',{
            /*https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {*/
                // attribution: 'Route beschrijving voor Strandpark De Zeeuwse Kust'
            }).addTo(map);

            L.imageOverlay('./assets/img/plattegrond.png',
            [[51.739686,3.798042], [51.735146,3.809981]]).addTo(map);

            // 3 start routes net voorbij de slagbomen


function onMapClick(e) {

L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);
        
route.innerHTML +=  '{"lat":' + e.latlng.lat +', "lng":' + e.latlng.lng + '},'
    
}

map.on('click', onMapClick);

</script>

<script>
function myFunction() {
    var copyText = document.getElementById("route");
    var editText = copyText.innerHTML.slice(0,-1)

    copyText.innerHTML = editText

    copyText.select();
  copyText.setSelectionRange(0, 99999)
  document.execCommand("copy");
  happy.innerHTML += 'Coördinaten zitten in je klipbord'
}

function reload(){
location.reload();
}

</script>



</body>
</html>