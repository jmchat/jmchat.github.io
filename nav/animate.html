
<!DOCTYPE html>
<html>
    <head>
    	<title>Route naar uw plek op Strandpark de Zeeuwse Kust</title>
    	<meta charset="utf-8" />

    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>

        <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>

		<!--script src="src/leaflet.motion.js"></script>
		<script src="src/leaflet.motion.utils.js"></script>
		<script src="src/leaflet.motion.easing.js"></script>
		<script src="src/layer/leaflet.motion.polyline.js"></script>
		<script src="src/layer/leaflet.motion.polygon.js"></script>
		<script src="src/layer/leaflet.motion.group.js"></script>
		<script src="src/layer/leaflet.motion.seq.js"></script-->
		<script src="https://igor-vladyka.github.io/leaflet.motion/dist/leaflet.motion.min.js"></script>
        <style>
            html, body, #map { width: 100%; height: 100%; margin: 0px; padding: 0px;}
			.leaflet-div-icon {
				background: transparent!important;
				border: none!important;
				color: white;
			}

			.red {
				color: red!important;
			}
        </style>
     </head>

    <body>

		<div id="map"></div>
    	<script>
			var map = L.map("map").setView([51.878407,5.850832], 17);

			L.tileLayer('https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png',{
			/*https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {*/
				attribution: 'Route beschrijving voor Strandpark De Zeeuwse Kust'
			}).addTo(map);

            L.imageOverlay('https://www.julianahoeve.nl/ui/Julianahoeve/img/parkmap_googlemaps_2020.png',
            [[51.87883, 5.84992], [51.87746, 5.85231]]).addTo(map);
		
		//Hier kunnen dus meerdere routes onder elkaar staan
			var carRoute = [];

			carRoute[1] = JSON.parse('[{"lat":51.878726,"lng":5.850683},{"lat":51.878747,"lng":5.851015},{"lat":51.878725,"lng":5.851522},{"lat":51.878695,"lng":5.851781},{"lat":51.878449,"lng":5.851645},{"lat":51.878246,"lng":5.851542}]');

			carRoute[2] = JSON.parse('[{"lat":51.8798573,"lng":5.8503105},{"lat":51.878747,"lng":5.851015},{"lat":51.878725,"lng":5.851522},{"lat":51.878695,"lng":5.851781},{"lat":51.878449,"lng":5.851645},{"lat":51.878246,"lng":5.851542}]');
			
			var urlParams = new URLSearchParams(window.location.search);
			var locations = carRoute[urlParams.get('location')]
			var number = urlParams.get('location')

if ((urlParams.has('location') == true) && (number < 3)) {

			var route = L.motion.polyline(locations, {
						color: "#994000",
						weight: 10,
					}, {
						auto: false,
						duration: 2000
					}, {
						removeOnEnd: false,
						icon: L.divIcon({html: "<i class='fa fa-car fa-3x' aria-hidden='true'></i>", iconSize: L.point(27.5, 24)})
					}).addTo(map);

				setTimeout(function () {
				route.motionStart();
			}, 2000);

		}

		function onLocationFound(e) {
		var radius = e.accuracy / 2;

		L.marker(e.latlng).addTo(map)
	}

	function onLocationError(e) {
		alert(e.message);
	}

	map.on('locationfound', onLocationFound);
	map.on('locationerror', onLocationError);

	map.locate({
		setView: true, 
		maxZoom: 18,
		watch: true,
		enableHighAccuracy: true
	});


    	</script>
    </body>

</html>
